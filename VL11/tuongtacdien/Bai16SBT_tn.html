<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Trắc Nghiệm Online - Bài 16: Lực tương tác giữa các điện tích</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    
    <!-- Thêm MathJax để hiển thị công thức toán học -->
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    
    <style>
        :root {
            --primary-color: #1a5276;
            --secondary-color: #2e86c1;
            --accent-color: #e74c3c;
            --success-color: #27ae60;
            --warning-color: #f39c12;
            --light-color: #f8f9fa;
            --dark-color: #2c3e50;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            line-height: 1.6;
            color: #333;
            background: linear-gradient(135deg, #f5f7fa 0%, #e4e8ed 100%);
            min-height: 100vh;
        }
        
        .container {
            width: 90%;
            max-width: 1000px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        /* Header */
        header {
            background: linear-gradient(135deg, #1a5276 0%, #154360 100%);
            color: white;
            padding: 1.5rem 0;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .logo-icon {
            background-color: white;
            width: 50px;
            height: 50px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        
        .logo-icon i {
            font-size: 1.8rem;
            color: #1a5276;
        }
        
        .logo-text h1 {
            font-size: 1.5rem;
            margin-bottom: 5px;
        }
        
        .logo-text span {
            color: #aed6f1;
        }
        
        /* Main content */
        main {
            padding: 2rem 0;
        }
        
        .quiz-header {
            background-color: white;
            border-radius: 10px;
            padding: 2rem;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            margin-bottom: 2rem;
            text-align: center;
            border-left: 5px solid var(--primary-color);
        }
        
        .quiz-header h2 {
            color: var(--primary-color);
            margin-bottom: 0.5rem;
        }
        
        .quiz-info {
            display: flex;
            justify-content: center;
            gap: 2rem;
            margin-top: 1rem;
            flex-wrap: wrap;
        }
        
        .info-item {
            display: flex;
            align-items: center;
            gap: 8px;
            color: #666;
        }
        
        /* Quiz container */
        .quiz-container {
            background-color: white;
            border-radius: 10px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            margin-bottom: 2rem;
            overflow: hidden;
        }
        
        /* Question */
        .question {
            padding: 1.5rem 2rem;
            border-bottom: 1px solid #eee;
        }
        
        .question-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 1rem;
        }
        
        .question-number {
            background-color: var(--primary-color);
            color: white;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            font-size: 1.2rem;
        }
        
        .question-text {
            flex: 1;
            margin-left: 1rem;
            font-size: 1.1rem;
            line-height: 1.5;
        }
        
        /* Diagram for question 5 */
        .diagram-container {
            margin: 1.5rem 0;
            padding: 1rem;
            background-color: #f8f9fa;
            border-radius: 8px;
            border: 1px solid #e0e0e0;
            text-align: center;
        }
        
        .diagram-title {
            font-weight: bold;
            color: var(--primary-color);
            margin-bottom: 1rem;
        }
        
        .diagram {
            position: relative;
            height: 180px;
            margin: 0 auto;
            max-width: 300px;
        }
        
        .point-o {
            position: absolute;
            top: 20px;
            left: 50%;
            transform: translateX(-50%);
            width: 12px;
            height: 12px;
            background-color: #333;
            border-radius: 50%;
        }
        
        .point-o::after {
            content: 'O';
            position: absolute;
            top: -20px;
            left: 50%;
            transform: translateX(-50%);
            font-weight: bold;
        }
        
        .string-oa {
            position: absolute;
            top: 26px;
            left: 50%;
            width: 2px;
            height: 60px;
            background-color: #666;
            transform: translateX(-50%);
        }
        
        .ball-a {
            position: absolute;
            top: 86px;
            left: 50%;
            transform: translateX(-50%);
            width: 40px;
            height: 40px;
            background-color: #3498db;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            box-shadow: 0 3px 6px rgba(0,0,0,0.1);
        }
        
        .string-ab {
            position: absolute;
            top: 106px;
            left: 50%;
            width: 2px;
            height: 60px;
            background-color: #666;
            transform: translateX(-50%);
        }
        
        .ball-b {
            position: absolute;
            top: 166px;
            left: 50%;
            transform: translateX(-50%);
            width: 40px;
            height: 40px;
            background-color: #2ecc71;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
            box-shadow: 0 3px 6px rgba(0,0,0,0.1);
        }
        
        .labels {
            position: absolute;
            bottom: 10px;
            width: 100%;
            text-align: center;
            font-size: 0.9rem;
            color: #666;
        }
        
        /* Options */
        .options {
            margin-top: 1rem;
        }
        
        .option {
            padding: 1rem;
            margin-bottom: 0.8rem;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
        }
        
        .option:hover {
            background-color: #f8f9fa;
            border-color: #b0b0b0;
        }
        
        .option.selected {
            background-color: rgba(26, 82, 118, 0.1);
            border-color: var(--primary-color);
        }
        
        .option.correct {
            background-color: rgba(39, 174, 96, 0.2);
            border-color: var(--success-color);
        }
        
        .option.incorrect {
            background-color: rgba(231, 76, 60, 0.2);
            border-color: var(--accent-color);
        }
        
        .option-label {
            display: flex;
            align-items: center;
            justify-content: center;
            width: 30px;
            height: 30px;
            background-color: #f0f0f0;
            border-radius: 50%;
            margin-right: 1rem;
            font-weight: bold;
            flex-shrink: 0;
        }
        
        .option.selected .option-label {
            background-color: var(--primary-color);
            color: white;
        }
        
        .option.correct .option-label {
            background-color: var(--success-color);
            color: white;
        }
        
        .option.incorrect .option-label {
            background-color: var(--accent-color);
            color: white;
        }
        
        /* Result indicator */
        .result-indicator {
            margin-top: 1rem;
            padding: 0.8rem;
            border-radius: 5px;
            display: none;
            align-items: center;
            gap: 10px;
        }
        
        .result-indicator.show {
            display: flex;
        }
        
        .result-indicator.correct {
            background-color: rgba(39, 174, 96, 0.1);
            border-left: 4px solid var(--success-color);
        }
        
        .result-indicator.incorrect {
            background-color: rgba(231, 76, 60, 0.1);
            border-left: 4px solid var(--accent-color);
        }
        
        .result-icon {
            font-size: 1.2rem;
        }
        
        .result-text {
            flex: 1;
        }
        
        .result-indicator.correct .result-icon {
            color: var(--success-color);
        }
        
        .result-indicator.incorrect .result-icon {
            color: var(--accent-color);
        }
        
        /* Explanation */
        .explanation {
            margin-top: 1rem;
            padding: 1rem;
            background-color: rgba(26, 82, 118, 0.05);
            border-radius: 5px;
            border-left: 4px solid var(--primary-color);
            display: none;
        }
        
        .explanation.show {
            display: block;
        }
        
        .explanation-title {
            font-weight: bold;
            color: var(--primary-color);
            margin-bottom: 0.5rem;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        /* Công thức toán học */
        .math-formula {
            font-family: "Times New Roman", Times, serif;
            font-style: italic;
            background-color: #f9f9f9;
            padding: 5px 10px;
            border-radius: 4px;
            margin: 5px 0;
            display: inline-block;
        }
        
        /* MathJax công thức */
        mjx-container[jax="CHTML"] {
            display: inline-block;
            margin: 0 2px;
        }
        
        /* Controls */
        .controls {
            display: flex;
            justify-content: space-between;
            padding: 1.5rem 2rem;
            background-color: #f8f9fa;
            border-top: 1px solid #eee;
        }
        
        .btn {
            padding: 0.8rem 1.5rem;
            border: none;
            border-radius: 5px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .btn-prev {
            background-color: #e0e0e0;
            color: #333;
        }
        
        .btn-prev:hover {
            background-color: #d0d0d0;
        }
        
        .btn-next {
            background-color: var(--primary-color);
            color: white;
        }
        
        .btn-next:hover {
            background-color: #154360;
        }
        
        .btn-submit {
            background-color: var(--success-color);
            color: white;
        }
        
        .btn-submit:hover {
            background-color: #229954;
        }
        
        .btn:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }
        
        /* Progress bar */
        .progress-container {
            margin-bottom: 2rem;
        }
        
        .progress-text {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.5rem;
        }
        
        .progress-bar {
            height: 10px;
            background-color: #e0e0e0;
            border-radius: 5px;
            overflow: hidden;
        }
        
        .progress-fill {
            height: 100%;
            background-color: var(--primary-color);
            width: 0%;
            transition: width 0.5s ease;
        }
        
        /* Results screen */
        .results-screen {
            background-color: white;
            border-radius: 10px;
            padding: 3rem 2rem;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.1);
            text-align: center;
            display: none;
        }
        
        .results-screen.show {
            display: block;
        }
        
        .results-icon {
            font-size: 4rem;
            margin-bottom: 1.5rem;
        }
        
        .results-icon.good {
            color: var(--success-color);
        }
        
        .results-icon.average {
            color: var(--warning-color);
        }
        
        .results-icon.poor {
            color: var(--accent-color);
        }
        
        .results-score {
            font-size: 3rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
            color: var(--primary-color);
        }
        
        .results-text {
            font-size: 1.2rem;
            color: #666;
            margin-bottom: 2rem;
        }
        
        .results-details {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1.5rem;
            margin-bottom: 2rem;
        }
        
        .result-detail {
            padding: 1.5rem;
            border-radius: 8px;
            background-color: #f8f9fa;
        }
        
        .detail-value {
            font-size: 2rem;
            font-weight: bold;
            margin-bottom: 0.5rem;
        }
        
        .correct-answers .detail-value {
            color: var(--success-color);
        }
        
        .incorrect-answers .detail-value {
            color: var(--accent-color);
        }
        
        .total-questions .detail-value {
            color: var(--primary-color);
        }
        
        /* Footer */
        footer {
            background: linear-gradient(135deg, #1a5276 0%, #154360 100%);
            color: white;
            padding: 2rem 0 1.5rem;
            margin-top: 3rem;
        }
        
        .footer-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
            flex-wrap: wrap;
        }
        
        .copyright {
            text-align: center;
            padding-top: 1.5rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            font-size: 0.9rem;
            color: #aaa;
            margin-top: 1.5rem;
        }
        
        /* Responsive design */
        @media (max-width: 768px) {
            .header-content {
                flex-direction: column;
                text-align: center;
            }
            
            .logo {
                margin-bottom: 1rem;
            }
            
            .quiz-info {
                flex-direction: column;
                gap: 1rem;
            }
            
            .question-header {
                flex-direction: column;
            }
            
            .question-number {
                margin-bottom: 1rem;
            }
            
            .controls {
                flex-direction: column;
                gap: 1rem;
            }
            
            .btn {
                justify-content: center;
            }
            
            .results-details {
                grid-template-columns: 1fr;
            }
            
            .footer-content {
                flex-direction: column;
                text-align: center;
                gap: 1rem;
            }
        }
    </style>
</head>
<body>
    <!-- Header -->
    <header>
        <div class="container header-content">
            <div class="logo">
                <div class="logo-icon">
                    <i class="fas fa-atom"></i>
                </div>
                <div class="logo-text">
                    <h1>Trắc Nghiệm <span>Vật Lý</span></h1>
                    <p>Bài 16: Lực tương tác giữa các điện tích</p>
                </div>
            </div>
            <div class="timer">
                <i class="fas fa-clock"></i> <span id="timer">25:00</span>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main>
        <div class="container">
            <!-- Quiz Header -->
            <div class="quiz-header">
                <h2>CHƯƠNG III. ĐIỆN TRƯỜNG - BÀI 16. LỰC TƯƠNG TÁC GIỮA CÁC ĐIỆN TÍCH</h2>
                <p>Trắc nghiệm theo SGK Kết Nối Tri Thức - Vật Lý 11</p>
                <div class="quiz-info">
                    <div class="info-item">
                        <i class="fas fa-question-circle"></i>
                        <span>5 câu hỏi</span>
                    </div>
                    <div class="info-item">
                        <i class="fas fa-clock"></i>
                        <span>25 phút</span>
                    </div>
                    <div class="info-item">
                        <i class="fas fa-graduation-cap"></i>
                        <span>Kiến thức bài 16</span>
                    </div>
                </div>
            </div>
            
            <!-- Progress Bar -->
            <div class="progress-container">
                <div class="progress-text">
                    <span>Tiến độ bài làm</span>
                    <span id="progress-percent">0%</span>
                </div>
                <div class="progress-bar">
                    <div class="progress-fill" id="progress-fill"></div>
                </div>
            </div>
            
            <!-- Quiz Container -->
            <div id="quiz-container" class="quiz-container">
                <!-- Question 1 -->
                <div class="question" data-question="1">
                    <div class="question-header">
                        <div class="question-number">1</div>
                        <div class="question-text">
                            Dùng vải cọ xát một đầu thanh nhựa rồi đưa lại gần hai vật nhẹ thì thấy thanh nhựa hút cả hai vật này. Hai vật này không thể là
                        </div>
                    </div>
                    <div class="options">
                        <div class="option" data-option="A">
                            <div class="option-label">A</div>
                            <div class="option-text">hai vật không nhiễm điện.</div>
                        </div>
                        <div class="option" data-option="B">
                            <div class="option-label">B</div>
                            <div class="option-text">hai vật nhiễm điện cùng loại.</div>
                        </div>
                        <div class="option" data-option="C">
                            <div class="option-label">C</div>
                            <div class="option-text">hai vật nhiễm điện khác loại.</div>
                        </div>
                        <div class="option" data-option="D">
                            <div class="option-label">D</div>
                            <div class="option-text">một vật nhiễm điện, một vật không nhiễm điện.</div>
                        </div>
                    </div>
                    <div class="result-indicator" id="result-1">
                        <div class="result-icon"></div>
                        <div class="result-text"></div>
                    </div>
                    <div class="explanation" id="explanation-1">
                        <div class="explanation-title">
                            <i class="fas fa-lightbulb"></i> Giải thích
                        </div>
                        <p>Thanh nhựa đã nhiễm điện do cọ xát. Nếu hai vật nhiễm điện cùng loại thì chúng sẽ đẩy nhau, nhưng thanh nhựa hút cả hai vật này, nên không thể cả hai vật đều nhiễm điện cùng loại. Trường hợp hai vật nhiễm điện khác loại hoặc một vật nhiễm điện, một vật không nhiễm điện đều có thể xảy ra hiện tượng hút.</p>
                    </div>
                </div>
                
                <!-- Question 2 -->
                <div class="question" data-question="2">
                    <div class="question-header">
                        <div class="question-number">2</div>
                        <div class="question-text">
                            Ba điện tích điểm chỉ có thể nằm cân bằng dưới tác dụng của các lực điện khi
                        </div>
                    </div>
                    <div class="options">
                        <div class="option" data-option="A">
                            <div class="option-label">A</div>
                            <div class="option-text">ba điện tích cùng loại nằm ở ba đỉnh của một tam giác đều.</div>
                        </div>
                        <div class="option" data-option="B">
                            <div class="option-label">B</div>
                            <div class="option-text">ba điện tích không cùng loại nằm ở ba đỉnh của một tam giác đều.</div>
                        </div>
                        <div class="option" data-option="C">
                            <div class="option-label">C</div>
                            <div class="option-text">ba điện tích không cùng loại nằm trên cùng một đường thẳng.</div>
                        </div>
                        <div class="option" data-option="D">
                            <div class="option-label">D</div>
                            <div class="option-text">ba điện tích cùng loại nằm trên cùng một đường thẳng.</div>
                        </div>
                    </div>
                    <div class="result-indicator" id="result-2">
                        <div class="result-icon"></div>
                        <div class="result-text"></div>
                    </div>
                    <div class="explanation" id="explanation-2">
                        <div class="explanation-title">
                            <i class="fas fa-lightbulb"></i> Giải thích
                        </div>
                        <p>Để ba điện tích điểm nằm cân bằng dưới tác dụng của các lực điện, chúng phải được sắp xếp sao cho lực điện tác dụng lên mỗi điện tích bằng 0. Điều này chỉ xảy ra khi ba điện tích không cùng loại nằm trên cùng một đường thẳng, với điện tích khác loại nằm ở giữa.</p>
                    </div>
                </div>
                
                <!-- Question 3 -->
                <div class="question" data-question="3">
                    <div class="question-header">
                        <div class="question-number">3</div>
                        <div class="question-text">
                            Tăng khoảng cách giữa hai điện tích lên 2 lần thì lực tương tác giữa chúng
                        </div>
                    </div>
                    <div class="options">
                        <div class="option" data-option="A">
                            <div class="option-label">A</div>
                            <div class="option-text">tăng lên 2 lần.</div>
                        </div>
                        <div class="option" data-option="B">
                            <div class="option-label">B</div>
                            <div class="option-text">giảm đi 2 lần.</div>
                        </div>
                        <div class="option" data-option="C">
                            <div class="option-label">C</div>
                            <div class="option-text">tăng lên 4 lần.</div>
                        </div>
                        <div class="option" data-option="D">
                            <div class="option-label">D</div>
                            <div class="option-text">giảm đi 4 lần.</div>
                        </div>
                    </div>
                    <div class="result-indicator" id="result-3">
                        <div class="result-icon"></div>
                        <div class="result-text"></div>
                    </div>
                    <div class="explanation" id="explanation-3">
                        <div class="explanation-title">
                            <i class="fas fa-lightbulb"></i> Giải thích
                        </div>
                        <p>Lực tương tác giữa hai điện tích tỉ lệ nghịch với bình phương khoảng cách: \( F = k \frac{|q_1 q_2|}{r^2} \). Khi tăng khoảng cách lên 2 lần (r' = 2r), lực mới là: \( F' = k \frac{|q_1 q_2|}{(2r)^2} = k \frac{|q_1 q_2|}{4r^2} = \frac{F}{4} \). Vậy lực giảm đi 4 lần.</p>
                    </div>
                </div>
                
                <!-- Question 4 -->
                <div class="question" data-question="4">
                    <div class="question-header">
                        <div class="question-number">4</div>
                        <div class="question-text">
                            Tăng đồng thời độ lớn của hai điện tích điểm và khoảng cách giữa chúng lên gấp đôi thì lực điện tác dụng giữa chúng
                        </div>
                    </div>
                    <div class="options">
                        <div class="option" data-option="A">
                            <div class="option-label">A</div>
                            <div class="option-text">tăng lên 2 lần.</div>
                        </div>
                        <div class="option" data-option="B">
                            <div class="option-label">B</div>
                            <div class="option-text">giảm đi 2 lần.</div>
                        </div>
                        <div class="option" data-option="C">
                            <div class="option-label">C</div>
                            <div class="option-text">giảm đi 4 lần.</div>
                        </div>
                        <div class="option" data-option="D">
                            <div class="option-label">D</div>
                            <div class="option-text">không đổi.</div>
                        </div>
                    </div>
                    <div class="result-indicator" id="result-4">
                        <div class="result-icon"></div>
                        <div class="result-text"></div>
                    </div>
                    <div class="explanation" id="explanation-4">
                        <div class="explanation-title">
                            <i class="fas fa-lightbulb"></i> Giải thích
                        </div>
                        <p>Lực tương tác: \( F = k \frac{|q_1 q_2|}{r^2} \). Khi tăng độ lớn hai điện tích và khoảng cách lên gấp đôi: \( q_1' = 2q_1, q_2' = 2q_2, r' = 2r \). Lực mới: \( F' = k \frac{|2q_1 \cdot 2q_2|}{(2r)^2} = k \frac{4|q_1 q_2|}{4r^2} = k \frac{|q_1 q_2|}{r^2} = F \). Vậy lực không đổi.</p>
                    </div>
                </div>
                
                <!-- Question 5 - ĐÃ ĐƯỢC SỬA -->
                <div class="question" data-question="5">
                    <div class="question-header">
                        <div class="question-number">5</div>
                        <div class="question-text">
                            Hai quả cầu \( A \) và \( B \) có khối lượng \( m_1 \) và \( m_2 \) được treo vào điểm \( O \) bằng hai đoạn dây cách điện \( OA \) và \( AB \) (Hình 16.1). Khi tích điện cho hai quả cầu thì lực căng \( T \) của đoạn dây \( OA \) so với trước khi tích điện sẽ
                        </div>
                    </div>
                    
                    <!-- Diagram for question 5 -->
                    <div class="diagram-container">
                        <div class="diagram-title">Hình 16.1 - Mô phỏng hệ thống treo hai quả cầu</div>
                        <div class="diagram">
                            <div class="point-o"></div>
                            <div class="string-oa"></div>
                            <div class="ball-a">A</div>
                            <div class="string-ab"></div>
                            <div class="ball-b">B</div>
                            <div class="labels">
                                <div>Dây OA và AB cách điện</div>
                                <div>Quả cầu A (m₁), Quả cầu B (m₂)</div>
                            </div>
                        </div>
                    </div>
                    
                    <div class="options">
                        <div class="option" data-option="A">
                            <div class="option-label">A</div>
                            <div class="option-text">tăng nếu hai quả cầu tích điện cùng loại.</div>
                        </div>
                        <div class="option" data-option="B">
                            <div class="option-label">B</div>
                            <div class="option-text">giảm nếu hai quả cầu tích điện cùng loại.</div>
                        </div>
                        <div class="option" data-option="C">
                            <div class="option-label">C</div>
                            <div class="option-text">không đổi.</div>
                        </div>
                        <div class="option" data-option="D">
                            <div class="option-label">D</div>
                            <div class="option-text">không đổi chỉ khi hai quả cầu tích điện khác loại.</div>
                        </div>
                    </div>
                    <div class="result-indicator" id="result-5">
                        <div class="result-icon"></div>
                        <div class="result-text"></div>
                    </div>
                    <div class="explanation" id="explanation-5">
                        <div class="explanation-title">
                            <i class="fas fa-lightbulb"></i> Giải thích chi tiết
                        </div>
                        <p><strong>Phân tích:</strong></p>
                        <p>1. <strong>Trước khi tích điện:</strong> Lực căng T của dây OA chỉ phải cân bằng với tổng trọng lực của hai quả cầu: \( T = (m_1 + m_2)g \).</p>
                        <p>2. <strong>Sau khi tích điện cùng loại:</strong> Hai quả cầu tích điện cùng loại sẽ đẩy nhau. Lực đẩy này làm cho dây AB bị lệch, góc giữa dây OA và phương thẳng đứng tăng lên.</p>
                        <p>3. <strong>Phân tích lực:</strong> Khi dây AB lệch, thành phần thẳng đứng của lực căng dây AB giảm. Để hệ cân bằng theo phương thẳng đứng, lực căng T của dây OA phải tăng để bù lại phần giảm này.</p>
                        <p>4. <strong>Kết luận:</strong> Lực căng T của dây OA sẽ tăng khi hai quả cầu tích điện cùng loại. Nếu hai quả cầu tích điện khác loại (hút nhau), lực căng T có thể thay đổi theo cách khác.</p>
                        <p><strong>Đáp án đúng: A - tăng nếu hai quả cầu tích điện cùng loại.</strong></p>
                    </div>
                </div>
                
                <!-- Controls -->
                <div class="controls">
                    <button class="btn btn-prev" id="prev-btn" disabled>
                        <i class="fas fa-arrow-left"></i> Câu trước
                    </button>
                    <div class="question-counter">
                        Câu <span id="current-question">1</span>/5
                    </div>
                    <button class="btn btn-next" id="next-btn">
                        Câu tiếp theo <i class="fas fa-arrow-right"></i>
                    </button>
                </div>
            </div>
            
            <!-- Submit Button -->
            <div class="submit-container" style="text-align: center; margin-bottom: 2rem;">
                <button class="btn btn-submit" id="submit-btn">
                    <i class="fas fa-paper-plane"></i> Nộp bài và xem kết quả
                </button>
            </div>
            
            <!-- Results Screen -->
            <div class="results-screen" id="results-screen">
                <div class="results-icon" id="results-icon">
                    <i class="fas fa-trophy"></i>
                </div>
                <div class="results-score" id="results-score">0/5</div>
                <div class="results-text" id="results-text"></div>
                
                <div class="results-details">
                    <div class="result-detail correct-answers">
                        <div class="detail-value" id="correct-count">0</div>
                        <div class="detail-label">Câu đúng</div>
                    </div>
                    <div class="result-detail total-questions">
                        <div class="detail-value" id="total-questions">5</div>
                        <div class="detail-label">Tổng số câu</div>
                    </div>
                    <div class="result-detail incorrect-answers">
                        <div class="detail-value" id="incorrect-count">0</div>
                        <div class="detail-label">Câu sai</div>
                    </div>
                </div>
                
                <div style="margin-bottom: 1.5rem;">
                    <button class="btn" id="restart-btn" style="background-color: var(--primary-color); color: white;">
                        <i class="fas fa-redo"></i> Làm lại bài trắc nghiệm
                    </button>
                </div>
                
                <div>
                    <button class="btn" id="review-btn" style="background-color: var(--warning-color); color: white;">
                        <i class="fas fa-eye"></i> Xem lại các câu sai
                    </button>
                </div>
            </div>
        </div>
    </main>

    <!-- Footer -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div>
                    <h3>Trắc Nghiệm Vật Lý Online</h3>
                    <p>Hệ thống bài trắc nghiệm bám sát SGK Kết Nối Tri Thức</p>
                </div>
                <div>
                    <p><i class="fas fa-book"></i> Vật Lý 11 - Bài 16: Lực tương tác giữa các điện tích</p>
                    <p><i class="fas fa-graduation-cap"></i> Chương III: Điện trường</p>
                </div>
            </div>
            <div class="copyright">
                <p>&copy; 2024 Trắc Nghiệm Vật Lý Online. Nội dung bám sát SGK Kết Nối Tri Thức.</p>
            </div>
        </div>
    </footer>

    <script>
        // Quiz data - correct answers and explanations
        const quizData = {
            correctAnswers: {
                1: "B",
                2: "C", 
                3: "D",
                4: "D",
                5: "A"
            },
            explanations: {
                1: "Thanh nhựa đã nhiễm điện do cọ xát. Nếu hai vật nhiễm điện cùng loại thì chúng sẽ đẩy nhau, nhưng thanh nhựa hút cả hai vật này, nên không thể cả hai vật đều nhiễm điện cùng loại. Trường hợp hai vật nhiễm điện khác loại hoặc một vật nhiễm điện, một vật không nhiễm điện đều có thể xảy ra hiện tượng hút.",
                2: "Để ba điện tích điểm nằm cân bằng dưới tác dụng của các lực điện, chúng phải được sắp xếp sao cho lực điện tác dụng lên mỗi điện tích bằng 0. Điều này chỉ xảy ra khi ba điện tích không cùng loại nằm trên cùng một đường thẳng, với điện tích khác loại nằm ở giữa.",
                3: "Lực tương tác giữa hai điện tích tỉ lệ nghịch với bình phương khoảng cách: \\( F = k \\frac{|q_1 q_2|}{r^2} \\). Khi tăng khoảng cách lên 2 lần (\\( r' = 2r \\)), lực mới là: \\( F' = k \\frac{|q_1 q_2|}{(2r)^2} = k \\frac{|q_1 q_2|}{4r^2} = \\frac{F}{4} \\). Vậy lực giảm đi 4 lần.",
                4: "Lực tương tác: \\( F = k \\frac{|q_1 q_2|}{r^2} \\). Khi tăng độ lớn hai điện tích và khoảng cách lên gấp đôi: \\( q_1' = 2q_1, q_2' = 2q_2, r' = 2r \\). Lực mới: \\( F' = k \\frac{|2q_1 \\cdot 2q_2|}{(2r)^2} = k \\frac{4|q_1 q_2|}{4r^2} = k \\frac{|q_1 q_2|}{r^2} = F \\). Vậy lực không đổi.",
                5: "Khi hai quả cầu tích điện cùng loại, chúng đẩy nhau, làm cho dây AB bị lệch, góc giữa dây OA và phương thẳng đứng tăng lên. Lực căng T phải cân bằng với tổng trọng lực và lực đẩy tĩnh điện theo phương dây OA, do đó T sẽ tăng so với khi chưa tích điện."
            }
        };
        
        // Quiz state
        let currentQuestion = 1;
        let userAnswers = {};
        let quizSubmitted = false;
        let timerInterval;
        let timeLeft = 25 * 60; // 25 minutes in seconds
        
        // DOM elements
        const questions = document.querySelectorAll('.question');
        const prevBtn = document.getElementById('prev-btn');
        const nextBtn = document.getElementById('next-btn');
        const submitBtn = document.getElementById('submit-btn');
        const currentQuestionEl = document.getElementById('current-question');
        const progressFill = document.getElementById('progress-fill');
        const progressPercent = document.getElementById('progress-percent');
        const resultsScreen = document.getElementById('results-screen');
        const correctCountEl = document.getElementById('correct-count');
        const incorrectCountEl = document.getElementById('incorrect-count');
        const totalQuestionsEl = document.getElementById('total-questions');
        const resultsScoreEl = document.getElementById('results-score');
        const resultsTextEl = document.getElementById('results-text');
        const resultsIconEl = document.getElementById('results-icon');
        const restartBtn = document.getElementById('restart-btn');
        const reviewBtn = document.getElementById('review-btn');
        const timerEl = document.getElementById('timer');
        
        // Initialize quiz
        function initQuiz() {
            // Hide all questions except the first one
            questions.forEach((question, index) => {
                if (index !== 0) {
                    question.style.display = 'none';
                }
            });
            
            // Initialize progress bar
            updateProgressBar();
            
            // Start timer
            startTimer();
            
            // Set up event listeners for options
            document.querySelectorAll('.option').forEach(option => {
                option.addEventListener('click', handleOptionClick);
            });
            
            // Set up control buttons
            prevBtn.addEventListener('click', showPreviousQuestion);
            nextBtn.addEventListener('click', showNextQuestion);
            submitBtn.addEventListener('click', submitQuiz);
            restartBtn.addEventListener('click', restartQuiz);
            reviewBtn.addEventListener('click', reviewIncorrectAnswers);
            
            // Khởi tạo MathJax để render công thức
            if (window.MathJax) {
                MathJax.typesetPromise();
            }
        }
        
        // Handle option click
        function handleOptionClick(e) {
            if (quizSubmitted) return;
            
            const questionElement = this.closest('.question');
            const questionNumber = parseInt(questionElement.dataset.question);
            const selectedOption = this.dataset.option;
            
            // Clear previous selection for this question
            questionElement.querySelectorAll('.option').forEach(option => {
                option.classList.remove('selected');
            });
            
            // Mark selected option
            this.classList.add('selected');
            
            // Save user's answer
            userAnswers[questionNumber] = selectedOption;
            
            // Update progress bar
            updateProgressBar();
            
            // If quiz is submitted, show result immediately
            if (quizSubmitted) {
                showQuestionResult(questionNumber);
            }
        }
        
        // Show next question
        function showNextQuestion() {
            if (currentQuestion < questions.length) {
                // Hide current question
                document.querySelector(`.question[data-question="${currentQuestion}"]`).style.display = 'none';
                
                // Show next question
                currentQuestion++;
                document.querySelector(`.question[data-question="${currentQuestion}"]`).style.display = 'block';
                
                // Update UI
                updateQuestionCounter();
                updateControlButtons();
                
                // Render lại MathJax cho câu hỏi mới
                if (window.MathJax) {
                    MathJax.typesetPromise();
                }
                
                // Scroll to top of question
                document.querySelector(`.question[data-question="${currentQuestion}"]`).scrollIntoView({ behavior: 'smooth', block: 'start' });
            }
        }
        
        // Show previous question
        function showPreviousQuestion() {
            if (currentQuestion > 1) {
                // Hide current question
                document.querySelector(`.question[data-question="${currentQuestion}"]`).style.display = 'none';
                
                // Show previous question
                currentQuestion--;
                document.querySelector(`.question[data-question="${currentQuestion}"]`).style.display = 'block';
                
                // Update UI
                updateQuestionCounter();
                updateControlButtons();
                
                // Render lại MathJax cho câu hỏi mới
                if (window.MathJax) {
                    MathJax.typesetPromise();
                }
                
                // Scroll to top of question
                document.querySelector(`.question[data-question="${currentQuestion}"]`).scrollIntoView({ behavior: 'smooth', block: 'start' });
            }
        }
        
        // Update question counter
        function updateQuestionCounter() {
            currentQuestionEl.textContent = currentQuestion;
        }
        
        // Update control buttons
        function updateControlButtons() {
            prevBtn.disabled = currentQuestion === 1;
            nextBtn.disabled = currentQuestion === questions.length;
        }
        
        // Update progress bar
        function updateProgressBar() {
            const answeredCount = Object.keys(userAnswers).length;
            const progress = (answeredCount / questions.length) * 100;
            
            progressFill.style.width = `${progress}%`;
            progressPercent.textContent = `${Math.round(progress)}%`;
        }
        
        // Start timer
        function startTimer() {
            updateTimerDisplay();
            
            timerInterval = setInterval(() => {
                timeLeft--;
                updateTimerDisplay();
                
                if (timeLeft <= 0) {
                    clearInterval(timerInterval);
                    submitQuiz();
                }
            }, 1000);
        }
        
        // Update timer display
        function updateTimerDisplay() {
            const minutes = Math.floor(timeLeft / 60);
            const seconds = timeLeft % 60;
            timerEl.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            
            // Change color when less than 5 minutes left
            if (timeLeft < 5 * 60) {
                timerEl.style.color = '#e74c3c';
            }
        }
        
        // Submit quiz
        function submitQuiz() {
            if (quizSubmitted) return;
            
            quizSubmitted = true;
            clearInterval(timerInterval);
            
            // Calculate score
            let correctCount = 0;
            
            for (let i = 1; i <= questions.length; i++) {
                if (userAnswers[i] === quizData.correctAnswers[i]) {
                    correctCount++;
                }
                showQuestionResult(i);
            }
            
            // Show results screen
            showResults(correctCount);
            
            // Hide submit button
            submitBtn.style.display = 'none';
            
            // Disable option selection
            document.querySelectorAll('.option').forEach(option => {
                option.style.cursor = 'default';
            });
        }
        
        // Show result for a specific question
        function showQuestionResult(questionNumber) {
            const questionElement = document.querySelector(`.question[data-question="${questionNumber}"]`);
            const userAnswer = userAnswers[questionNumber];
            const correctAnswer = quizData.correctAnswers[questionNumber];
            const resultIndicator = document.getElementById(`result-${questionNumber}`);
            const explanation = document.getElementById(`explanation-${questionNumber}`);
            
            // Mark correct and incorrect options
            questionElement.querySelectorAll('.option').forEach(option => {
                const optionLetter = option.dataset.option;
                
                if (optionLetter === correctAnswer) {
                    option.classList.add('correct');
                } else if (optionLetter === userAnswer && userAnswer !== correctAnswer) {
                    option.classList.add('incorrect');
                }
                
                // Remove click event listener
                option.style.pointerEvents = 'none';
            });
            
            // Show result indicator
            if (userAnswer) {
                if (userAnswer === correctAnswer) {
                    resultIndicator.innerHTML = `
                        <div class="result-icon"><i class="fas fa-check-circle"></i></div>
                        <div class="result-text">Chính xác! Đáp án ${correctAnswer} là đúng.</div>
                    `;
                    resultIndicator.classList.add('correct');
                } else {
                    resultIndicator.innerHTML = `
                        <div class="result-icon"><i class="fas fa-times-circle"></i></div>
                        <div class="result-text">Chưa chính xác. Đáp án đúng là ${correctAnswer}.</div>
                    `;
                    resultIndicator.classList.add('incorrect');
                }
                resultIndicator.classList.add('show');
            }
            
            // Show explanation và render lại MathJax
            explanation.classList.add('show');
            if (window.MathJax) {
                MathJax.typesetPromise([explanation]);
            }
        }
        
        // Show results screen
        function showResults(correctCount) {
            const totalQuestions = questions.length;
            const incorrectCount = totalQuestions - correctCount;
            const scorePercentage = Math.round((correctCount / totalQuestions) * 100);
            
            // Update results screen
            correctCountEl.textContent = correctCount;
            incorrectCountEl.textContent = incorrectCount;
            totalQuestionsEl.textContent = totalQuestions;
            resultsScoreEl.textContent = `${correctCount}/${totalQuestions}`;
            
            // Set results text and icon based on score
            let resultsText = '';
            let iconClass = '';
            
            if (scorePercentage >= 80) {
                resultsText = 'Xuất sắc! Bạn đã nắm vững kiến thức về lực tương tác điện tích.';
                iconClass = 'good';
                resultsIconEl.innerHTML = '<i class="fas fa-trophy"></i>';
            } else if (scorePercentage >= 60) {
                resultsText = 'Khá tốt! Bạn hiểu khá rõ về lực tương tác điện tích.';
                iconClass = 'average';
                resultsIconEl.innerHTML = '<i class="fas fa-star"></i>';
            } else {
                resultsText = 'Cần ôn tập thêm về lực tương tác điện tích.';
                iconClass = 'poor';
                resultsIconEl.innerHTML = '<i class="fas fa-lightbulb"></i>';
            }
            
            resultsTextEl.textContent = resultsText;
            resultsIconEl.className = `results-icon ${iconClass}`;
            
            // Show results screen
            resultsScreen.classList.add('show');
            
            // Scroll to results
            resultsScreen.scrollIntoView({ behavior: 'smooth' });
        }
        
        // Restart quiz
        function restartQuiz() {
            // Reset state
            currentQuestion = 1;
            userAnswers = {};
            quizSubmitted = false;
            timeLeft = 25 * 60;
            
            // Reset UI
            questions.forEach((question, index) => {
                question.style.display = index === 0 ? 'block' : 'none';
                
                // Reset options
                question.querySelectorAll('.option').forEach(option => {
                    option.classList.remove('selected', 'correct', 'incorrect');
                    option.style.pointerEvents = 'auto';
                    option.style.cursor = 'pointer';
                });
                
                // Hide result indicators and explanations
                const resultIndicator = document.getElementById(`result-${index + 1}`);
                const explanation = document.getElementById(`explanation-${index + 1}`);
                
                if (resultIndicator) {
                    resultIndicator.classList.remove('show', 'correct', 'incorrect');
                    resultIndicator.innerHTML = '';
                }
                
                if (explanation) {
                    explanation.classList.remove('show');
                }
            });
            
            // Update counters
            updateQuestionCounter();
            updateControlButtons();
            updateProgressBar();
            
            // Show submit button
            submitBtn.style.display = 'inline-block';
            
            // Hide results screen
            resultsScreen.classList.remove('show');
            
            // Restart timer
            clearInterval(timerInterval);
            startTimer();
            
            // Render lại MathJax
            if (window.MathJax) {
                MathJax.typesetPromise();
            }
            
            // Scroll to top
            document.querySelector('.quiz-header').scrollIntoView({ behavior: 'smooth' });
        }
        
        // Review incorrect answers
        function reviewIncorrectAnswers() {
            // Find first incorrect answer
            let firstIncorrect = null;
            
            for (let i = 1; i <= questions.length; i++) {
                if (userAnswers[i] !== quizData.correctAnswers[i]) {
                    firstIncorrect = i;
                    break;
                }
            }
            
            // If no incorrect answers, go to first question
            if (!firstIncorrect) {
                firstIncorrect = 1;
            }
            
            // Hide all questions
            questions.forEach(question => {
                question.style.display = 'none';
            });
            
            // Show the selected question
            currentQuestion = firstIncorrect;
            document.querySelector(`.question[data-question="${currentQuestion}"]`).style.display = 'block';
            
            // Update UI
            updateQuestionCounter();
            updateControlButtons();
            
            // Hide results screen
            resultsScreen.classList.remove('show');
            
            // Render lại MathJax
            if (window.MathJax) {
                MathJax.typesetPromise();
            }
            
            // Scroll to question
            document.querySelector(`.question[data-question="${currentQuestion}"]`).scrollIntoView({ behavior: 'smooth', block: 'start' });
        }
        
        // Initialize quiz when page loads
        document.addEventListener('DOMContentLoaded', initQuiz);
    </script>
</body>
</html>